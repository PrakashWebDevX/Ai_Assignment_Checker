Firebase Authentication is throwing the following runtime error:

Firebase: Error (auth/invalid-api-key)


This error occurs during Google Authentication initialization in:

client/src/lib/firebase.ts

ğŸ“ Root Cause:

The Firebase Web App Config values (API Key & other required identifiers) are missing or incorrectly loaded from Vite environment variables.

Vite requires environment variables to begin with:

VITE_


If any Firebase config value is empty â†’ Firebase fails to initialize.

ğŸ¯ Goal (Definition of Done)

âœ” Firebase Authentication initializes without errors
âœ” Google Login works in Replit & local environment
âœ” All API Keys are securely loaded via Replit Secrets
âœ” Required Firebase domains are authorized
âœ” No more auth/invalid-api-key errors in browser console

ğŸ›  Required Fixes â€” Implementation Plan
Step 1 â€” Add correct Firebase Web App Config

Retrieve from Firebase Console â†’ Project Settings â†’ General â†’ Web App

Store the exact values in Replit Secrets:

Key	Value
VITE_FIREBASE_API_KEY	ğŸ”‘ firebase apiKey
VITE_FIREBASE_AUTH_DOMAIN	firebase authDomain
VITE_FIREBASE_PROJECT_ID	firebase projectId
VITE_FIREBASE_STORAGE_BUCKET	firebase storageBucket
VITE_FIREBASE_MESSAGING_SENDER_ID	firebase messagingSenderId
VITE_FIREBASE_APP_ID	firebase appId

âš  No quotes
âš  Must match Firebase names exactly
âš  All 6 must exist

Step 2 â€” Add Authorized Domains

Firebase Console â†’ Authentication â†’ Settings â†’ Authorized Domains

Add:

localhost
127.0.0.1
repl.co
replit.dev
<your-replit-project-name>.id.repl.co  (if shown)

Step 3 â€” Force Rebuild Frontend

Otherwise old config remains cached

Stop App â–¶
Run App â–¶
Ctrl + Shift + R to refresh browser

Step 4 â€” Verification Checklist

âœ” No API warnings in console
âœ” Firebase initialized successfully
âœ” Google OAuth popup appears
âœ” getAuth(app) returns valid instance
âœ” auth/invalid-api-key error resolved

ğŸ“Œ Acceptance Criteria
Check	Pass Condition
Firebase keys are securely loaded	Verified by console.log(import.meta.env)
App connects to Firebase auth	Google popup opens
Error disappears completely	No auth errors under Network / Console Tab